{"version":3,"sources":["util/Spotify.js","components/SearchBar/SearchBar.js","components/MusicButton/MusicButton.js","components/Track/Track.js","components/TrackList/TrackList.js","components/SearchResults/SearchResults.js","components/Playlist/Playlist.js","components/App/App.js","index.js"],"names":["accessToken","expiresIn","SearchBar","props","search","bind","handleTermChange","e","value","target","this","setState","term","onSearch","state","className","onChange","placeholder","onClick","React","Component","MusicButton","play","pause","url","audio","Audio","Track","addTrack","removeTrack","onAdd","track","onRemove","isRemoval","name","artist","album","preview","renderAction","TrackList","tracks","map","id","SearchResults","searchResults","Playlist","handleNameChange","onNameChange","playlistName","playlistTracks","onSave","Spotify","getAccessToken","accessTokenMatch","window","location","href","match","expiresInMatch","Number","setTimeout","history","pushState","fetch","headers","Authorization","then","response","ok","json","networkError","console","log","message","jsonResponse","items","artists","uri","preview_url","savePlaylist","array","userID","method","body","JSON","stringify","playlistID","uris","App","updatePlaylistName","find","savedTrack","index","indexOf","push","splice","unshift","trackUris","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cab96c85.chunk.js","sourcesContent":["let accessToken;\r\nlet expiresIn;\r\n// assume this is OAuth \r\n// use an object to store methods that access the API and do extra things\r\nconst redirect = 'https://tomsenter.github.io/jamming/'// 'http://ppppp.surge.sh/';\r\nconst clientID = 'b5d4b40c678b42fdb428e6fa9fe39a22';\r\nexport const Spotify = {\r\n    getAccessToken(){\r\n        if(accessToken){\r\n            return accessToken;\r\n        } \r\n\r\n        // check url window.location.href returns url of that page\r\n        const accessTokenMatch = window.location.href.match(/access_token=([^&]*)/);\r\n        const expiresInMatch = window.location.href.match(/expires_in=([^&]*)/);\r\n\r\n        if(accessTokenMatch && expiresInMatch){\r\n            accessToken = accessTokenMatch[1];\r\n            expiresIn = Number(expiresInMatch[1]);\r\n            // clears everything \r\n            window.setTimeout(() => accessToken = '', expiresIn * 1000);\r\n            window.history.pushState('Access Token', null, '/');\r\n            return accessToken;\r\n        } else{\r\n            window.location = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&scope=playlist-modify-public&redirect_uri=${redirect}`;\r\n        }\r\n    },\r\n\r\n    search(term){\r\n        //const accessToken = this.getAccessToken();\r\n       return fetch(`https://api.spotify.com/v1/search?type=track&q=${term}`,{\r\n          headers:{\r\n              Authorization: `Bearer ${accessToken}`\r\n            }\r\n        }).then(response=>{\r\n            if(response.ok){\r\n                return response.json();\r\n            }\r\n        },networkError=>console.log(networkError.message)\r\n        ).then(jsonResponse=>{\r\n            \r\n              \r\n            if(!jsonResponse.tracks){\r\n                return [];\r\n            }\r\n            \r\n            return  jsonResponse.tracks.items.map(track=>\r\n                 ({id:track.id,name:track.name,artists:track.artists[0].name,album:track.album.name,uri:track.uri,preview:track.preview_url})\r\n            );\r\n        });\r\n    },\r\n\r\n    savePlaylist(name,array){\r\n       if(!name || !array){\r\n           // return exits the function \r\n           return;\r\n       }\r\n\r\n       const accessToken = this.getAccessToken();\r\n       const headers = {\r\n        Authorization: `Bearer ${accessToken}`\r\n       };\r\n       let userID;\r\n\r\n       return fetch('https://api.spotify.com/v1/me',{headers:headers}).then(response=>{\r\n           if(response.ok){\r\n               return response.json();\r\n           }\r\n       },networkError=> console.log(networkError.message)\r\n       ).then(jsonResponse=>{\r\n           userID = jsonResponse.id;\r\n           // second fetch\r\n           return fetch(`https://api.spotify.com/v1/users/${userID}/playlists`,{\r\n               method:'POST',\r\n               headers:headers,\r\n               body:JSON.stringify({name:name})}).then(response=>{\r\n                   if(response.ok){\r\n                       return response.json();\r\n                   }\r\n               },networkError=>console.log(networkError.message)\r\n               ).then(jsonResponse=>{\r\n                   const playlistID = jsonResponse.id;\r\n                   //third fetch \r\n                   return fetch(`https://api.spotify.com/v1/users/${userID}/playlists/${playlistID}/tracks`,{\r\n                       method:'POST',\r\n                       headers: headers,\r\n                       body: JSON.stringify({uris:array})\r\n                   });\r\n                   \r\n               });\r\n\r\n       });\r\n\r\n       \r\n    }\r\n\r\n     \r\n\r\n\r\n};","\r\nimport './SearchBar.css';\r\nimport React from 'react';\r\n\r\nexport class SearchBar extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        \r\n\r\n        this.search = this.search.bind(this);\r\n        this.handleTermChange = this.handleTermChange.bind(this);\r\n    }\r\n\r\n    handleTermChange(e){\r\n       const value = e.target.value;\r\n       this.setState({\r\n           term: value\r\n       });\r\n    }\r\n\r\n    search(){\r\n        this.props.onSearch(this.state.term);\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"SearchBar\">\r\n            <input onChange={this.handleTermChange} placeholder=\"Enter A Song, Album, or Artist\" />\r\n            <button onClick={this.search} className=\"SearchButton\">SEARCH</button>\r\n          </div>\r\n        );\r\n    }\r\n\r\n\r\n    \r\n\r\n}","import './MusicButton.css';\r\nimport React from 'react';\r\n\r\nexport class MusicButton extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state={\r\n           play: false,\r\n           pause: true\r\n        };\r\n\r\n        this.url = this.props.url;\r\n        this.audio = new Audio(this.url);\r\n         \r\n\r\n         this.play = this.play.bind(this);\r\n         this.pause = this.pause.bind(this);\r\n        \r\n\r\n    }\r\n\r\n    play(){\r\n        this.setState({\r\n            play:true,\r\n            pause: false\r\n        });\r\n\r\n        this.audio.play();\r\n    }\r\n\r\n\r\n    pause(){\r\n        this.setState({\r\n            play: false,\r\n            pause: true\r\n        });\r\n\r\n        this.audio.pause();\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"flex\">\r\n                <button className=\"button\" onClick={this.play}>Play</button>\r\n                <button className=\"button\" onClick={this.pause}>Pause</button>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport './Track.css';\r\nimport {MusicButton} from '../MusicButton/MusicButton';\r\n\r\n// this.props.track.preview has audio in\r\n\r\n class Track extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.addTrack = this.addTrack.bind(this);\r\n    this.removeTrack = this.removeTrack.bind(this);\r\n  }\r\n\r\n  addTrack(){\r\n    \r\n    this.props.onAdd(this.props.track);\r\n  }\r\n\r\n  removeTrack(){\r\n    this.props.onRemove(this.props.track);\r\n    \r\n  }\r\n\r\n  renderAction(){\r\n    \r\n     if(this.props.isRemoval){\r\n       return <button onClick={this.removeTrack} className=\"Track-action\">-</button>;\r\n     } else{\r\n       return <button onClick={this.addTrack} className=\"Track-action\">+</button>\r\n     }\r\n  }\r\n\r\n  \r\n    render(){\r\n        return (\r\n <div className=\"Track\">\r\n  <div className=\"Track-information\">\r\n    <h3>{this.props.track.name}</h3>\r\n    <p>{this.props.track.artist} | {this.props.track.album}</p>\r\n  </div>\r\n  <MusicButton url={this.props.track.preview}/>\r\n  <span className=\"Track-action\">{this.renderAction()}</span>\r\n </div>\r\n);\r\n    }\r\n}\r\n\r\n// here the renderAction function is called so needs ()\r\nexport default Track;","import React from 'react';\r\nimport './TrackList.css';\r\nimport Track from '../Track/Track';\r\n\r\n class TrackList extends React.Component{\r\n   \r\n    \r\n    render(){\r\n\r\n        \r\n        return (\r\n            \r\n            <div className='TrackList'>\r\n                {\r\n                    \r\n                    this.props.tracks.map(track=>{\r\n                       \r\n                       return <Track isRemoval={this.props.isRemoval} onRemove={this.props.onRemove} onAdd={this.props.onAdd} track={track} key={track.id}/>;\r\n                    })\r\n                }\r\n\r\n            </div>\r\n        );\r\n  }\r\n\r\n}\r\n\r\nexport default TrackList;","import React from 'react';\r\nimport './SearchResults.css';\r\nimport TrackList from '../TrackList/TrackList';\r\n\r\n class SearchResults extends React.Component{\r\n\r\n   \r\n    render(){\r\n        return (\r\n            <div className=\"SearchResults\">\r\n              <h2>Results</h2>\r\n              <TrackList onAdd={this.props.onAdd}  tracks={this.props.searchResults} isRemoval={false}/>\r\n           </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchResults;","import React from 'react';\r\nimport './Playlist.css';\r\nimport TrackList from '../TrackList/TrackList';\r\n\r\n class Playlist extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.handleNameChange = this.handleNameChange.bind(this);\r\n    }\r\n\r\n    handleNameChange(e){\r\n        let value = e.target.value;\r\n        this.props.onNameChange(value);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n        <div className=\"Playlist\">\r\n            <input onChange={this.handleNameChange} value={this.props.playlistName}/>\r\n            <TrackList tracks={this.props.playlistTracks} isRemoval={true} onRemove={this.props.onRemove} />\r\n            <button onClick={this.props.onSave} className=\"Playlist-save\">SAVE TO SPOTIFY</button>\r\n        </div> \r\n        );\r\n    }\r\n}\r\n\r\nexport default Playlist;\r\n// tracks needed to be passed as a prop in both tracklist components for some reason","import {SearchBar} from '../SearchBar/SearchBar';\nimport SearchResults from '../SearchResults/SearchResults';\nimport Playlist from '../Playlist/Playlist';\nimport {Spotify} from '../../util/Spotify';\nimport './App.css';\nimport React from 'react';\n\n\n// think it doesn't have the access token loaded sometimes so it reloads the page\n\n\n// spotify object is passed down \n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      searchResults: [],\n      playlistName: 'New Playlist',\n      playlistTracks: []\n    };\n     \n\n    this.addTrack = this.addTrack.bind(this);\n    this.removeTrack = this.removeTrack.bind(this);\n    this.updatePlaylistName = this.updatePlaylistName.bind(this);\n    this.savePlaylist = this.savePlaylist.bind(this);\n    this.search = this.search.bind(this);\n  }\n\n  addTrack(track){\n    \n    let tracks = this.state.playlistTracks;\n    let search = this.state.searchResults;\n    \n     if(tracks.find(savedTrack=>{\n       // if already in playlist add\n      return savedTrack.id === track.id;\n    })){\n      return;\n    } else{\n      let index = search.indexOf(track);\n      tracks.push(track);\n      search.splice(index,1);\n\n      // it takes out the array, and this.setState fills it back in\n      this.setState({\n        playlistTracks: tracks,\n        searchResults: search\n      });\n    }\n\n    \n   \n  }\n\n  removeTrack(track){\n    \n    let tracks = this.state.playlistTracks;\n    let search = this.state.searchResults;\n     /*if(tracks.find(savedTrack=>{\n          return savedTrack.id !== track.id;\n     })){\n       // this gets rid of the specific item at that index\n       let index = tracks.indexOf(track);\n       tracks.splice(index,1);\n       this.setState({playlistTracks: tracks});\n     } else if(tracks.find(savedTrack=>{\n      return savedTrack.id === track.id;\n     })){\n       let index = tracks.indexOf(track);\n      tracks.splice(index,1);\n      this.setState({playlistTracks: tracks});\n         \n     } else{\n       return;\n     }*/\n       \n\n\n       // found a better solution for the deletion of tracks\n     if(tracks.find(savedTrack=>{\n      return savedTrack.id === track.id;\n     })){\n       let index = tracks.indexOf(track);\n      tracks.splice(index,1);\n      search.unshift(track);\n      this.setState({playlistTracks: tracks,\n      searchResults:search});\n         \n     } else{\n       return;\n     }\n\n  }\n\n  // playlist methods\n\n  updatePlaylistName(name){\n      this.setState({playlistName:name});\n  }\n  \n  savePlaylist(){\n    const trackUris= this.state.playlistTracks.map(track=> track.uri);\n    Spotify.savePlaylist(this.state.playlistName,trackUris).then(()=>{\n        this.setState({\n          playlistName:'New Playlist',\n          playlistTracks: []\n        })\n    });\n  }\n   \n\n  \n\n  // it would get access token each time it searched was the problem\n  search(term){\n    Spotify.search(term).then(searchResults=>{\n      \n      this.setState({\n        \n        searchResults: searchResults\n      });\n    });\n  }\n\n\n  render(){\n    return (\n<div>\n  <h1>Ja<span className=\"highlight\">mmm</span>ing</h1>\n  <div className=\"App\">\n    <SearchBar onSearch={this.search} />\n    <div className=\"App-playlist\">\n      <SearchResults onAdd={this.addTrack} searchResults={this.state.searchResults}/>\n      <Playlist onSave={this.savePlaylist} onNameChange={this.updatePlaylistName} onRemove={this.removeTrack} playlistName={this.state.playlistName} playlistTracks={this.state.playlistTracks} />\n    </div>\n  </div>\n</div>\n    );\n  }\n\n  componentDidMount(){\n    Spotify.getAccessToken();\n  }\n\n\n  \n  \n}\n//when using function like addTrack in props, no () is required because you don't want to call it straight away\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}